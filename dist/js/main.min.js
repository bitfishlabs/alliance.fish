window.requestAnimationFrame=window.requestAnimationFrame;var centerX,centerY,star,i,canvas=document.getElementById("space"),c=canvas.getContext("2d"),numStars=1500,radius="0."+Math.floor(9*Math.random())+1,focalLength=2*canvas.width,warp=0,stars=[],animate=!0;function executeFrame(){animate&&requestAnimationFrame(executeFrame),moveStars(),drawStars()}function initializeStars(){for(centerX=canvas.width/2,centerY=canvas.height/2,stars=[],i=0;i<numStars;i++)star={x:Math.random()*canvas.width,y:Math.random()*canvas.height,z:Math.random()*canvas.width,o:"0."+Math.floor(99*Math.random())+1},stars.push(star)}function moveStars(){for(i=0;i<numStars;i++)(star=stars[i]).z--,star.z<=0&&(star.z=canvas.width)}function drawStars(){var t,a,e;for(canvas.width===window.innerWidth&&canvas.width===window.innerWidth||(canvas.width=window.innerWidth,canvas.height=window.innerHeight,initializeStars()),0===warp&&(c.fillStyle="rgba(4,4,4,1)",c.fillRect(0,0,canvas.width,canvas.height)),c.fillStyle="rgba(209, 255, 255, "+radius+")",i=0;i<numStars;i++)t=((star=stars[i]).x-centerX)*(focalLength/star.z),t+=centerX,a=(star.y-centerY)*(focalLength/star.z),a+=centerY,e=focalLength/star.z,c.fillRect(t,a,e,e),c.fillStyle="rgba(209, 255, 255, "+star.o+")"}initializeStars(),document.getElementById("warp-img").addEventListener("mouseenter",function(){window.warp=1},!1),document.getElementById("warp-img").addEventListener("mouseleave",function(){setTimeout(function(){window.warp=0,window.c.clearRect(0,0,window.canvas.width,window.canvas.height),executeFrame()},200)},!1),document.getElementById("warp-button").addEventListener("mouseenter",function(){window.warp=1},!1),document.getElementById("warp-button").addEventListener("mouseleave",function(){setTimeout(function(){window.warp=0,window.c.clearRect(0,0,window.canvas.width,window.canvas.height),executeFrame()},200)},!1),executeFrame();